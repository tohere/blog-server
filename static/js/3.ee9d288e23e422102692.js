webpackJsonp([3],{L1Q4:function(t,e){},jw7m:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("lC5x"),i=a.n(n),r=a("J0Oq"),s=a.n(r),c=a("1h8J"),o=a("y6zN"),l={data:function(){return{articles:[],page:1,count:0,cate:"",loading:!0}},created:function(){this.loading=!0},methods:{getArticlesData:function(t){var e=this;return s()(i.a.mark(function a(){var n,r,s,l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,Object(c.e)(t,e.page);case 3:n=a.sent,r=n.data,s=r.articles,l=r.count,s.map(function(t){t.pubTime=Object(o.a)(t.pubTime)}),e.articles=s,e.count=l,e.loading=!1;case 11:case"end":return a.stop()}},a,e)}))()},pageChange:function(t){var e=this;return s()(i.a.mark(function a(){var n,r;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,Object(c.e)(e.cate,t);case 3:n=a.sent,r=n.data.articles,e.articles=r,e.loading=!1;case 7:case"end":return a.stop()}},a,e)}))()}},watch:{$route:{handler:function(){if(console.log(this.$route.fullPath.split("/")[1]),"main"===this.$route.name){this.page=1;var t=this.$route.fullPath.split("/")[1];this.getArticlesData(t)}},deep:!0,immediate:!0}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[t._l(t.articles,function(e){return a("el-row",{key:e._id,attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("router-link",{staticStyle:{width:"100%"},attrs:{tag:"div",to:{path:"/article/"+e._id}}},[a("el-col",{attrs:{span:18}},[a("h2",{staticClass:"ellipsis"},[t._v(t._s(e.title))]),t._v(" "),a("time",[t._v(t._s(e.pubTime))]),t._v(" "),a("span",{staticClass:"readNums"},[a("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(e.scan))])]),t._v(" "),a("el-col",{attrs:{span:2}},[e.imgs&&e.imgs[0]?a("img",{attrs:{src:e.imgs[0],alt:""}}):t._e()])],1)],1)}),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.count>10,expression:"count > 10"}],attrs:{background:"",layout:"prev, pager, next",total:t.count},on:{"current-change":t.pageChange}})],2)},staticRenderFns:[]};var d=a("C7Lr")(l,u,!1,function(t){a("L1Q4")},"data-v-e73ec0e4",null);e.default=d.exports}});
//# sourceMappingURL=3.ee9d288e23e422102692.js.map